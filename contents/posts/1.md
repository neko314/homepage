---
title: GitHub Pagesに移行した
description: はてなブログからGitHub Pagesに移行した
---
ブログをはてなブログからGitHub Pagesに移行した。

はてなブログははてなダイアリー時代から5年間くらい使っていたが、dev.toを見てからブログの表示が遅いことが気になるようになって、GitHub Pagesに移行することにした。Webプログラマーのブログにとって、高速にページが表示されることは非常に重要な要素だと思うようになった。

移行にあたっていくつかStatic Site Generatorを試してみたが、どれもしっくりこなかった。SASSのコンパイルなどのタスクをgulpで行うのであれば、HTMLのコンパイルもgulpですべて済ませたいとおもった。

そのためにgulpのプラグインを2つ書いた。indexページを生成するものとレイアウトに各ページを挿入してHTML全体を構築するものを書いた。

他には、ファイル名をそのままURLに使おうとすると、半濁点や濁点を含むファイル名が正しく開けない問題があるため、ブログタイトルとファイル名を分けることにした。ブログタイトルはfront matterで指定するようにした。

HTMLとCSSを書くにあたってLighthouseによる監査を参考にした。Lighthouseのエラーメッセージのリンクから参考情報を参照することで、モダンなWebフロントエンド開発を学ぶことができた。その一例として、モバイルファーストでCSSを書き始め、PCで表示できるように余白などを調整した。PWAに馴染みがなかったため、manifest.jsonというものを初めて書いた。

![lighthouse](/images/posts/1/lighthouse.png)

さらに、表示の高速化のためPageSpeed Insightsを参考にした。HTMLやCSSの圧縮を行い、CSSを`<style>`タグに埋め込むようにするだけで100点がとれるようになった。この過程でCSSによるレンダリングブロックという問題についても学ぶことができた。

![pagespeed-insights](/images/posts/1/pagespeed-insights.png)

[https://github.com/naoty/homepage](https://github.com/naoty/homepage)にこのブログを生成するタスクとコンテンツを管理してある。そして、publicディレクトリをgitサブモジュール化して[https://github.com/naoty/naoty.github.io](https://github.com/naoty/naoty.github.io)にpushするようにした。
